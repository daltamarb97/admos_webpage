(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{Yj9t:function(t,n,e){"use strict";e.r(n),e.d(n,"AuthModule",(function(){return N}));var o=e("ofXK"),a=e("3Pt+"),r=e("tyNb"),i=e("7dP1"),c=e("A09s"),s=e("fXoL"),l=e("UbJi"),p=e("XiUz"),d=e("MSSf"),b=e("IRfi"),m=e("A2Vd"),g=e("Xlwt");function u(t,n){1&t&&(s.Sb(0,"mat-hint"),s.Bc(1,"Contrase\xf1a de "),s.Sb(2,"strong"),s.Bc(3,"m\xednimo 6 caracteres"),s.Rb(),s.Rb())}const f=function(){return["/auth","login"]};let h=(()=>{class t{constructor(t,n,e,o,a){this.formBuilder=t,this.router=n,this.afa=e,this.authService=o,this.setDataService=a,this.buildForm()}ngOnInit(){}signUp(t){if(this.form.valid){const t=this.form.value;this.authService.signUp(t.email,t.password).then(()=>{this.afa.onAuthStateChanged(t=>{if(t){const n={name:this.form.get("buildingName").value,address:this.form.get("buildingAddr").value},e={name:this.form.get("adminName").value,id:this.form.get("adminId").value,email:this.form.get("email").value};this.setDataService.setNewBuilding(n,e,t.uid),this.router.navigate(["/auth/login"])}})})}}buildForm(){this.form=this.formBuilder.group({email:["",[a.p.required,a.p.email]],password:["",[a.p.required,a.p.minLength(6)]],buildingName:["",[a.p.required]],buildingAddr:["",[a.p.required]],adminName:["",[a.p.required]],adminId:["",[a.p.required]]})}}return t.\u0275fac=function(n){return new(n||t)(s.Mb(a.c),s.Mb(r.f),s.Mb(l.a),s.Mb(i.a),s.Mb(c.a))},t.\u0275cmp=s.Gb({type:t,selectors:[["app-sign-up"]],decls:39,vars:5,consts:[["fxLayout","row","fxLayoutAlign","center center",1,"login-wrapper"],[1,"box"],[1,"example-form",3,"formGroup","ngSubmit"],[1,"example-full-width"],["matInput","","type","text","formControlName","buildingName"],["matInput","","type","text","placeholder","Ej. Carrera 1 # 2 - 3","formControlName","buildingAddr"],["matInput","","type","text","formControlName","adminName"],["matInput","","type","number","formControlName","adminId"],["matInput","","type","email","formControlName","email"],["matInput","","type","password","formControlName","password"],[4,"ngIf"],["mat-stroked-button","","color","accent",1,"btn-block",3,"disabled"],[3,"routerLink"],[2,"color","primary"]],template:function(t,n){1&t&&(s.Sb(0,"div",0),s.Sb(1,"mat-card",1),s.Sb(2,"mat-card-header"),s.Sb(3,"mat-card-title"),s.Bc(4,"Registrate"),s.Rb(),s.Rb(),s.Sb(5,"mat-card-content"),s.Sb(6,"form",2),s.ac("ngSubmit",(function(t){return n.signUp(t)})),s.Sb(7,"mat-form-field",3),s.Sb(8,"mat-label"),s.Bc(9,"Nombre del Edificio"),s.Rb(),s.Nb(10,"input",4),s.Rb(),s.Sb(11,"mat-form-field",3),s.Sb(12,"mat-label"),s.Bc(13,"Direcci\xf3n del Edificio"),s.Rb(),s.Nb(14,"input",5),s.Rb(),s.Sb(15,"mat-form-field",3),s.Sb(16,"mat-label"),s.Bc(17,"Nombre del Administrador Actual"),s.Rb(),s.Nb(18,"input",6),s.Rb(),s.Sb(19,"mat-form-field",3),s.Sb(20,"mat-label"),s.Bc(21,"No. de Documento del Administrador Actual"),s.Rb(),s.Nb(22,"input",7),s.Rb(),s.Sb(23,"mat-form-field",3),s.Sb(24,"mat-label"),s.Bc(25,"Email de administraci\xf3n"),s.Rb(),s.Nb(26,"input",8),s.Rb(),s.Sb(27,"mat-form-field",3),s.Sb(28,"mat-label"),s.Bc(29,"Contrase\xf1a"),s.Rb(),s.Nb(30,"input",9),s.zc(31,u,4,0,"mat-hint",10),s.Rb(),s.Sb(32,"button",11),s.Bc(33,"Resgitrarme"),s.Rb(),s.Rb(),s.Rb(),s.Sb(34,"p"),s.Bc(35,"\xbfYa tienes cuenta? "),s.Sb(36,"a",12),s.Sb(37,"span",13),s.Bc(38,"Inicia Sesi\xf3n"),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb()),2&t&&(s.Ab(6),s.lc("formGroup",n.form),s.Ab(25),s.lc("ngIf",!n.form.get("password").valid),s.Ab(1),s.lc("disabled",n.form.invalid),s.Ab(4),s.lc("routerLink",s.nc(4,f)))},directives:[p.c,p.b,d.a,d.d,d.h,d.c,a.q,a.k,a.e,b.a,b.e,m.b,a.b,a.j,a.d,a.n,o.m,g.b,r.h,b.d],styles:['body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{height:100%;margin:0;padding:0}.app-header[_ngcontent-%COMP%]{justify-content:space-between;position:fixed;top:0;left:0;right:0;z-index:2;box-shadow:0 3px 5px -1px rgba(0,0,0,.2),0 6px 10px 0 rgba(0,0,0,.14),0 1px 18px 0 rgba(0,0,0,.12)}.login-wrapper[_ngcontent-%COMP%]{height:100%;margin:0;padding:0}.positronx[_ngcontent-%COMP%]{text-decoration:none;color:#fff}.box[_ngcontent-%COMP%]{position:relative;top:0;opacity:1;float:left;padding:60px 50px 40px;width:100%;background:#fff;border-radius:10px;transform:scale(1);-webkit-transform:scale(1);-ms-transform:scale(1);z-index:5;max-width:500px}.box.back[_ngcontent-%COMP%]{top:-20px;opacity:.8}.box.back[_ngcontent-%COMP%], .box[_ngcontent-%COMP%]:before{transform:scale(.95);-webkit-transform:scale(.95);-ms-transform:scale(.95);z-index:-1}.box[_ngcontent-%COMP%]:before{content:"";width:100%;height:30px;border-radius:10px;position:absolute;top:-10px;background:hsla(0,0%,100%,.6);left:0}.login-wrapper[_ngcontent-%COMP%]   .example-form[_ngcontent-%COMP%]{min-width:100%;max-width:300px;width:100%}.login-wrapper[_ngcontent-%COMP%]   .btn-block[_ngcontent-%COMP%], .login-wrapper[_ngcontent-%COMP%]   .example-full-width[_ngcontent-%COMP%]{width:100%}.login-wrapper[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{text-align:center;width:100%;display:block;font-weight:700}.login-wrapper[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{font-size:30px;margin:0}.login-wrapper[_ngcontent-%COMP%]   .mat-card[_ngcontent-%COMP%]{padding:40px 70px 50px}.login-wrapper[_ngcontent-%COMP%]   .mat-stroked-button[_ngcontent-%COMP%]{border:1px solid;line-height:54px;background:#fff7fa}.login-wrapper[_ngcontent-%COMP%]   .mat-form-field-appearance-legacy[_ngcontent-%COMP%]   .mat-form-field-infix[_ngcontent-%COMP%]{padding:.8375em 0}']}),t})();var x=e("5m3b"),w=e("pA66"),M=e("1G5W"),C=e("XNiG");const P=function(){return["/auth","signup"]},O=function(){return["/auth","pass-reset"]};let _=(()=>{class t{constructor(t,n,e,o,a){this.formBuilder=t,this.router=n,this.authService=e,this.fetchData=o,this.holdData=a,this.destroy$=new C.a,this.buildForm()}ngOnInit(){}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),console.log("me destrui")}logIn(t){if(this.loginForm.valid){const t=this.loginForm.value;this.authService.logIn(t.email,t.password).then(t=>{this.fetchData.getUserInfo(t.user.uid).pipe(Object(M.a)(this.destroy$)).subscribe(n=>{this.holdData.userInfo=n,!0!==this.holdData.userInfo.isAdmin?(alert("s\xf3lo puedes ingresar si tienes perfil de administrador"),this.authService.logOut()):!0!==t.user.emailVerified?alert("por favor verifica el correo de la administraci\xf3n para ingresar"):(this.router.navigate(["/"]),console.log(t.user))})}).catch(t=>{"auth/wrong-password"===t.code||"auth/user-not-found"===t.code||"auth/invalid-email"===t.code?alert("email o contrase\xf1a incorrectos"):(console.log(t),alert("ocurri\xf3 un problema, cont\xe1ctanos a xxxxx@gmail.com"))})}}buildForm(){this.loginForm=this.formBuilder.group({email:["",[a.p.required]],password:["",[a.p.required]]})}}return t.\u0275fac=function(n){return new(n||t)(s.Mb(a.c),s.Mb(r.f),s.Mb(i.a),s.Mb(x.a),s.Mb(w.a))},t.\u0275cmp=s.Gb({type:t,selectors:[["app-login"]],decls:27,vars:6,consts:[["fxLayout","row","fxLayoutAlign","center center",1,"login-wrapper"],[1,"box"],[1,"example-form",3,"formGroup","ngSubmit"],[1,"example-full-width"],["matInput","","type","email","formControlName","email"],["matInput","","type","password","formControlName","password"],["mat-stroked-button","","color","accent",1,"btn-block",3,"disabled"],[2,"justify-content","space-around"],[3,"routerLink"],[2,"color","primary"]],template:function(t,n){1&t&&(s.Sb(0,"div",0),s.Sb(1,"mat-card",1),s.Sb(2,"mat-card-header"),s.Sb(3,"mat-card-title"),s.Bc(4,"Inicia Sesi\xf3n"),s.Rb(),s.Rb(),s.Sb(5,"mat-card-content"),s.Sb(6,"form",2),s.ac("ngSubmit",(function(t){return n.logIn(t)})),s.Sb(7,"mat-form-field",3),s.Sb(8,"mat-label"),s.Bc(9,"Email de administraci\xf3n"),s.Rb(),s.Nb(10,"input",4),s.Rb(),s.Sb(11,"mat-form-field",3),s.Sb(12,"mat-label"),s.Bc(13,"Contrase\xf1a"),s.Rb(),s.Nb(14,"input",5),s.Rb(),s.Sb(15,"button",6),s.Bc(16,"Ingresar"),s.Rb(),s.Rb(),s.Rb(),s.Sb(17,"mat-card-actions",7),s.Sb(18,"p"),s.Bc(19,"\xbfA\xfan no tienes cuenta? "),s.Sb(20,"a",8),s.Sb(21,"span",9),s.Bc(22,"Reg\xedstrate Aqu\xed"),s.Rb(),s.Rb(),s.Rb(),s.Sb(23,"p"),s.Sb(24,"a",8),s.Sb(25,"span",9),s.Bc(26,"\xbfOlvidaste tu contrase\xf1a?"),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb()),2&t&&(s.Ab(6),s.lc("formGroup",n.loginForm),s.Ab(9),s.lc("disabled",n.loginForm.invalid),s.Ab(5),s.lc("routerLink",s.nc(4,P)),s.Ab(4),s.lc("routerLink",s.nc(5,O)))},directives:[p.c,p.b,d.a,d.d,d.h,d.c,a.q,a.k,a.e,b.a,b.e,m.b,a.b,a.j,a.d,g.b,d.b,r.h],styles:['.login-wrapper[_ngcontent-%COMP%]{margin:0;padding:0}.box[_ngcontent-%COMP%]{max-width:700px}.box[_ngcontent-%COMP%]   mat-card-actions[_ngcontent-%COMP%]{display:flex;flex-direction:row}body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{height:100%;margin:0;padding:0}body[_ngcontent-%COMP%]{background-image:url(https://lh4.googleusercontent.com/-XplyTa1Za-I/VMSgIyAYkHI/AAAAAAAADxM/oL-rD6VP4ts/w1184-h666/Android-Lollipop-wallpapers-Google-Now-Wallpaper-2.png);background-position:50%;background-size:cover;background-repeat:no-repeat;min-height:100vh;font-family:Roboto,sans-serif}.app-header[_ngcontent-%COMP%]{justify-content:space-between;position:fixed;top:0;left:0;right:0;z-index:2;box-shadow:0 3px 5px -1px rgba(0,0,0,.2),0 6px 10px 0 rgba(0,0,0,.14),0 1px 18px 0 rgba(0,0,0,.12)}.login-wrapper[_ngcontent-%COMP%]{height:100%}.positronx[_ngcontent-%COMP%]{text-decoration:none;color:#fff}.box[_ngcontent-%COMP%]{position:relative;top:0;opacity:1;float:left;padding:60px 50px 40px;width:100%;background:#fff;border-radius:10px;transform:scale(1);-webkit-transform:scale(1);-ms-transform:scale(1);z-index:5;max-width:330px}.box.back[_ngcontent-%COMP%]{top:-20px;opacity:.8}.box.back[_ngcontent-%COMP%], .box[_ngcontent-%COMP%]:before{transform:scale(.95);-webkit-transform:scale(.95);-ms-transform:scale(.95);z-index:-1}.box[_ngcontent-%COMP%]:before{content:"";width:100%;height:30px;border-radius:10px;position:absolute;top:-10px;background:hsla(0,0%,100%,.6);left:0}.login-wrapper[_ngcontent-%COMP%]   .example-form[_ngcontent-%COMP%]{min-width:100%;max-width:300px;width:100%}.login-wrapper[_ngcontent-%COMP%]   .btn-block[_ngcontent-%COMP%], .login-wrapper[_ngcontent-%COMP%]   .example-full-width[_ngcontent-%COMP%]{width:100%}.login-wrapper[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{text-align:center;width:100%;display:block;font-weight:700}.login-wrapper[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{font-size:30px;margin:0}.login-wrapper[_ngcontent-%COMP%]   .mat-card[_ngcontent-%COMP%]{padding:40px 70px 50px}.login-wrapper[_ngcontent-%COMP%]   .mat-stroked-button[_ngcontent-%COMP%]{border:1px solid;line-height:54px;background:#fff7fa}.login-wrapper[_ngcontent-%COMP%]   .mat-form-field-appearance-legacy[_ngcontent-%COMP%]   .mat-form-field-infix[_ngcontent-%COMP%]{padding:.8375em 0}']}),t})();var S=e("0DX0");const R=function(){return["/auth"]};function y(t,n){if(1&t){const t=s.Tb();s.Sb(0,"div",1),s.Sb(1,"mat-card",2),s.Sb(2,"mat-card-header"),s.Sb(3,"mat-card-title"),s.Bc(4,"Recuperaci\xf3n de contrase\xf1a"),s.Rb(),s.Rb(),s.Sb(5,"mat-card-content"),s.Sb(6,"form",3),s.ac("ngSubmit",(function(){return s.tc(t),s.ec().resetPass()})),s.Sb(7,"mat-form-field",4),s.Sb(8,"mat-label"),s.Bc(9,"Email con el que te registraste"),s.Rb(),s.Nb(10,"input",5),s.Rb(),s.Sb(11,"button",6),s.Bc(12,"Recuperar"),s.Rb(),s.Rb(),s.Rb(),s.Sb(13,"mat-card-actions",7),s.Sb(14,"p"),s.Bc(15,"\xbfYa tienes cuenta? "),s.Sb(16,"a",8),s.Sb(17,"span",9),s.Bc(18,"Inicia Sesi\xf3n Aqu\xed"),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb()}if(2&t){const t=s.ec();s.Ab(6),s.lc("formGroup",t.passResetForm),s.Ab(5),s.lc("disabled",t.passResetForm.invalid),s.Ab(5),s.lc("routerLink",s.nc(3,R))}}function v(t,n){1&t&&(s.Sb(0,"div",1),s.Sb(1,"mat-card",2),s.Sb(2,"mat-card-header"),s.Sb(3,"mat-card-title",10),s.Bc(4,"Revisa tu email"),s.Rb(),s.Sb(5,"mat-card-subtitle"),s.Bc(6,"Te hemos enviado un link a tu email en d\xf3nde podr\xe1s recuperar tu contrase\xf1a"),s.Rb(),s.Rb(),s.Rb(),s.Rb())}const k=[{path:"",pathMatch:"full",redirectTo:"login"},{path:"signup",component:h},{path:"login",component:_},{path:"pass-reset",component:(()=>{class t{constructor(t,n,e){this.formBuilder=t,this._snackBar=n,this.authService=e,this.horizontalPosition="center",this.verticalPosition="bottom",this.showInput=!0}ngOnInit(){this.buildForm()}resetPass(){this.passResetForm.valid&&this.authService.resetPassword(this.passResetForm.value.email).then(()=>this.showInput=!1).catch(t=>{"auth/user-not-found"!==t.code&&"auth/invalid-email"!==t.code||this._snackBar.open("No encontramos tu correo, intenta de nuevo","Cerrar",{duration:2e3,horizontalPosition:this.horizontalPosition,verticalPosition:this.verticalPosition})})}buildForm(){this.passResetForm=this.formBuilder.group({email:["",[a.p.required]]})}}return t.\u0275fac=function(n){return new(n||t)(s.Mb(a.c),s.Mb(S.a),s.Mb(i.a))},t.\u0275cmp=s.Gb({type:t,selectors:[["app-pass-reset"]],decls:2,vars:2,consts:[["class","login-wrapper","fxLayout","row","fxLayoutAlign","center center",4,"ngIf"],["fxLayout","row","fxLayoutAlign","center center",1,"login-wrapper"],[1,"box"],[1,"example-form",3,"formGroup","ngSubmit"],[1,"example-full-width"],["matInput","","type","email","formControlName","email"],["mat-stroked-button","","color","accent",1,"btn-block",3,"disabled"],[2,"justify-content","space-around"],[3,"routerLink"],[2,"color","primary"],[2,"margin-bottom","10px"]],template:function(t,n){1&t&&(s.zc(0,y,19,4,"div",0),s.zc(1,v,7,0,"div",0)),2&t&&(s.lc("ngIf",1==n.showInput),s.Ab(1),s.lc("ngIf",0==n.showInput))},directives:[o.m,p.c,p.b,d.a,d.d,d.h,d.c,a.q,a.k,a.e,b.a,b.e,m.b,a.b,a.j,a.d,g.b,d.b,r.h,d.g],styles:['body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{height:100%;margin:0;padding:0}.app-header[_ngcontent-%COMP%]{justify-content:space-between;position:fixed;top:0;left:0;right:0;z-index:2;box-shadow:0 3px 5px -1px rgba(0,0,0,.2),0 6px 10px 0 rgba(0,0,0,.14),0 1px 18px 0 rgba(0,0,0,.12)}.login-wrapper[_ngcontent-%COMP%]{height:100%;margin:0;padding:0}.positronx[_ngcontent-%COMP%]{text-decoration:none;color:#fff}.box[_ngcontent-%COMP%]{position:relative;top:0;opacity:1;float:left;padding:60px 50px 40px;width:100%;background:#fff;border-radius:10px;transform:scale(1);-webkit-transform:scale(1);-ms-transform:scale(1);z-index:5;max-width:500px}.box[_ngcontent-%COMP%]   mat-card-actions[_ngcontent-%COMP%]{display:flex;flex-direction:row}.box.back[_ngcontent-%COMP%]{top:-20px;opacity:.8}.box.back[_ngcontent-%COMP%], .box[_ngcontent-%COMP%]:before{transform:scale(.95);-webkit-transform:scale(.95);-ms-transform:scale(.95);z-index:-1}.box[_ngcontent-%COMP%]:before{content:"";width:100%;height:30px;border-radius:10px;position:absolute;top:-10px;background:hsla(0,0%,100%,.6);left:0}.login-wrapper[_ngcontent-%COMP%]   .example-form[_ngcontent-%COMP%]{min-width:100%;max-width:300px;width:100%}.login-wrapper[_ngcontent-%COMP%]   .btn-block[_ngcontent-%COMP%], .login-wrapper[_ngcontent-%COMP%]   .example-full-width[_ngcontent-%COMP%]{width:100%}.login-wrapper[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{text-align:center;width:100%;display:block;font-weight:700}.login-wrapper[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{font-size:30px;margin:0}.login-wrapper[_ngcontent-%COMP%]   .mat-card[_ngcontent-%COMP%]{padding:40px 70px 50px}.login-wrapper[_ngcontent-%COMP%]   .mat-stroked-button[_ngcontent-%COMP%]{border:1px solid;line-height:54px;background:#fff7fa}.login-wrapper[_ngcontent-%COMP%]   .mat-form-field-appearance-legacy[_ngcontent-%COMP%]   .mat-form-field-infix[_ngcontent-%COMP%]{padding:.8375em 0}']}),t})()}];let A=(()=>{class t{}return t.\u0275mod=s.Kb({type:t}),t.\u0275inj=s.Jb({factory:function(n){return new(n||t)},imports:[[r.i.forChild(k)],r.i]}),t})();var I=e("onrN"),B=e("YUcS");let N=(()=>{class t{}return t.\u0275mod=s.Kb({type:t}),t.\u0275inj=s.Jb({factory:function(n){return new(n||t)},imports:[[o.c,A,I.a,a.o,B.a]]}),t})()}}]);