function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?_arrayLikeToArray(t,e):void 0}}function _iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,n=new Array(e);a<e;a++)n[a]=t[a];return n}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,a){return e&&_defineProperties(t.prototype,e),a&&_defineProperties(t,a),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{Fvdz:function(t,e,a){"use strict";a.r(e),a.d(e,"ComunicationsModule",(function(){return st}));var n=a("ofXK"),i=a("YUcS"),o=a("tyNb"),s=a("5m3b"),c=a("A09s"),r=a("niqc"),b=a("LcAk"),l=a("fXoL"),m=a("IRfi"),d=a("A2Vd"),h=a("2+6u"),u=a("Xlwt"),g=a("3Pt+"),p=a("j14s");function f(t,e){if(1&t&&(l.Sb(0,"mat-option",11),l.Bc(1),l.Rb()),2&t){var a=e.$implicit;l.lc("value",a),l.Ab(1),l.Gc("",a.name," ",a.lastname," (",a.property,"",a.job,")")}}function v(t,e){if(1&t){var a=l.Tb();l.Sb(0,"div",3),l.Sb(1,"mat-form-field"),l.Sb(2,"input",4),l.ac("ngModelChange",(function(t){return l.tc(a),l.ec().local_data.name=t})),l.Rb(),l.Rb(),l.Sb(3,"mat-form-field"),l.Sb(4,"input",5),l.ac("ngModelChange",(function(t){return l.tc(a),l.ec().local_data.description=t})),l.Rb(),l.Rb(),l.Sb(5,"mat-form-field"),l.Sb(6,"mat-label"),l.Bc(7,"Participantes"),l.Rb(),l.Sb(8,"mat-select",6),l.ac("ngModelChange",(function(t){return l.tc(a),l.ec().local_data.participants=t})),l.zc(9,f,2,5,"mat-option",7),l.Rb(),l.Rb(),l.Sb(10,"div",8),l.Sb(11,"button",9),l.ac("click",(function(){return l.tc(a),l.ec().onNoClick()})),l.Bc(12,"Cancelar"),l.Rb(),l.Sb(13,"button",10),l.ac("click",(function(){return l.tc(a),l.ec().createChatRoom()})),l.Bc(14,"Continuar"),l.Rb(),l.Rb(),l.Rb()}if(2&t){var n=l.ec();l.Ab(2),l.lc("ngModel",n.local_data.name),l.Ab(2),l.lc("ngModel",n.local_data.description),l.Ab(4),l.lc("ngModel",n.local_data.participants),l.Ab(1),l.lc("ngForOf",n.residentsList)}}function R(t,e){if(1&t){var a=l.Tb();l.Bc(0," \xbfEst\xe1s seguro de eliminar esta sala de chat? "),l.Sb(1,"div",8),l.Sb(2,"button",9),l.ac("click",(function(){return l.tc(a),l.ec().onNoClick()})),l.Bc(3,"Cancelar"),l.Rb(),l.Sb(4,"button",10),l.ac("click",(function(){return l.tc(a),l.ec().deleteChatRoom()})),l.Bc(5,"Eliminar"),l.Rb(),l.Rb()}}var C,M=((C=function(){function t(e,a,n){_classCallCheck(this,t),this.dialogRef=e,this.fetchData=a,this.data=n,this.residentsList=[],this.local_data={name:"",description:"",participants:[]},this.action=n,"delete"!==this.action&&this.getBuidlingResidentsAndEmployees(this.action)}return _createClass(t,[{key:"onNoClick",value:function(){this.dialogRef.close()}},{key:"createChatRoom",value:function(){this.dialogRef.close({data:this.local_data})}},{key:"deleteChatRoom",value:function(){this.dialogRef.close({data:this.action})}},{key:"getBuidlingResidentsAndEmployees",value:function(t){var e=this;this.fetchData.getBuidlingResidents(t).subscribe((function(t){t.map((function(t){var a=t.payload.doc.data();e.residentsList.push(a)}))})),this.fetchData.getBuidlingEmployees(t).subscribe((function(t){t.map((function(t){var a=t.payload.doc.data();e.residentsList.push(a)}))}))}}]),t}()).\u0275fac=function(t){return new(t||C)(l.Mb(b.f),l.Mb(s.a),l.Mb(b.a))},C.\u0275cmp=l.Gb({type:C,selectors:[["app-chat-creation-dialog"]],decls:5,vars:2,consts:[["mat-dialog-title",""],["mat-dialog-content","",4,"ngIf","ngIfElse"],["elseTemplate",""],["mat-dialog-content",""],["type","text","placeholder","Nombre de la sala de chat","matInput","",3,"ngModel","ngModelChange"],["type","text","placeholder","Descrpci\xf3n de la sala de chat","matInput","",3,"ngModel","ngModelChange"],["multiple","",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["mat-dialog-actions",""],["mat-button","",3,"click"],["mat-button","","mat-flat-button","","color","warn",3,"click"],[3,"value"]],template:function(t,e){if(1&t&&(l.Sb(0,"h1",0),l.Bc(1,"Configuraci\xf3n de sala de chat"),l.Rb(),l.zc(2,v,15,4,"div",1),l.zc(3,R,6,0,"ng-template",null,2,l.Ac)),2&t){var a=l.rc(4);l.Ab(2),l.lc("ngIf","delete"!=e.action)("ngIfElse",a)}},directives:[b.g,n.m,b.d,m.a,d.b,g.b,g.j,g.m,m.e,h.a,n.l,b.c,u.b,p.o],styles:[""]}),C),y=a("1G5W"),S=a("IzEk"),I=a("XNiG"),A=a("pA66"),D=a("RzEb"),k=a("J0hL"),_=a("kEI4"),P=a("MSSf"),O=a("1OTw"),x=a("TY1r"),w=a("3aqf"),B=["autosize"];function z(t,e){if(1&t){var a=l.Tb();l.Sb(0,"mat-list-item",17),l.ac("click",(function(){l.tc(a);var t=e.$implicit;return l.ec().getMessagesFromRoom(t)})),l.Bc(1),l.Rb()}if(2&t){var n=e.$implicit,i=l.ec();l.Db("highlighted",i.currentRoomData.roomId===n.roomId),l.Ab(1),l.Dc(" ",n.roomName," ")}}function F(t,e){if(1&t){var a=l.Tb();l.Sb(0,"mat-list-item",17),l.ac("click",(function(){l.tc(a);var t=e.$implicit;return l.ec().getMessagesFromPrivateChat(t)})),l.Bc(1),l.Rb()}if(2&t){var n=e.$implicit,i=l.ec();l.Db("highlighted",i.currentPrivateChat&&i.currentPrivateChat.chatId===n.chatId),l.Ab(1),l.Ec("",n.name," ",n.lastname," ")}}function T(t,e){if(1&t&&(l.Sb(0,"h3"),l.Sb(1,"b"),l.Bc(2),l.Rb(),l.Rb()),2&t){var a=l.ec(2);l.Ab(2),l.Dc("#",a.currentRoomData.name,"")}}function j(t,e){if(1&t&&(l.Sb(0,"mat-card-subtitle"),l.Bc(1),l.Rb()),2&t){var a=l.ec(2);l.Ab(1),l.Cc(a.currentRoomData.description)}}function N(t,e){if(1&t&&(l.Sb(0,"h5"),l.Bc(1,"Participantes de "),l.Sb(2,"b"),l.Bc(3),l.Rb(),l.Rb()),2&t){var a=l.ec(2);l.Ab(3),l.Dc("#",a.currentRoomData.name,"")}}function E(t,e){if(1&t&&(l.Sb(0,"mat-card-content"),l.Sb(1,"p"),l.Bc(2),l.Rb(),l.Rb()),2&t){var a=e.$implicit;l.Ab(2),l.Fc(" ",a.name," ",a.lastname,"(",a.property,") ")}}function $(t,e){if(1&t){var a=l.Tb();l.Sb(0,"button",22),l.ac("click",(function(){return l.tc(a),l.ec(2).deleteChatRoom()})),l.Bc(1),l.Rb()}if(2&t){var n=l.ec(2);l.Ab(1),l.Dc("Eliminar #",n.currentRoomData.name,"")}}function L(t,e){if(1&t&&(l.Sb(0,"mat-sidenav",18),l.zc(1,T,3,1,"h3",9),l.Sb(2,"div"),l.Sb(3,"mat-card"),l.Sb(4,"mat-card-header"),l.Sb(5,"mat-card-title"),l.Bc(6,"Descripci\xf3n"),l.Rb(),l.zc(7,j,2,1,"mat-card-subtitle",9),l.Rb(),l.Rb(),l.Rb(),l.zc(8,N,4,1,"h5",9),l.Sb(9,"div"),l.Sb(10,"mat-card"),l.zc(11,E,3,3,"mat-card-content",19),l.Rb(),l.Rb(),l.Sb(12,"div",20),l.zc(13,$,2,1,"button",21),l.Rb(),l.Rb()),2&t){var a=l.ec();l.Ab(1),l.lc("ngIf",a.currentRoomData),l.Ab(6),l.lc("ngIf",a.currentRoomData),l.Ab(1),l.lc("ngIf",a.currentRoomData),l.Ab(3),l.lc("ngForOf",a.currentRoomParticipants),l.Ab(2),l.lc("ngIf",a.currentRoomData)}}function G(t,e){if(1&t&&(l.Sb(0,"div",34),l.Sb(1,"span",35),l.Bc(2),l.Rb(),l.Sb(3,"p",36),l.Bc(4),l.fc(5,"date"),l.Rb(),l.Rb()),2&t){var a=l.ec().$implicit;l.Ab(2),l.Dc("",a.message," "),l.Ab(2),l.Cc(l.hc(5,2,a.timestamp,"hh:mm"))}}function J(t,e){if(1&t&&(l.Sb(0,"div",37),l.Sb(1,"span",38),l.Bc(2),l.Sb(3,"p",39),l.Bc(4),l.fc(5,"date"),l.Rb(),l.Rb(),l.Nb(6,"br"),l.Sb(7,"span",35),l.Bc(8),l.Rb(),l.Rb()),2&t){var a=l.ec().$implicit;l.Ab(2),l.Ec(" ",a.name," ",a.lastname,""),l.Ab(2),l.Cc(l.hc(5,4,a.timestamp,"hh:mm")),l.Ab(4),l.Cc(a.message)}}function X(t,e){if(1&t&&(l.Sb(0,"div",31),l.zc(1,G,6,5,"div",32),l.zc(2,J,9,7,"div",33),l.Rb()),2&t){var a=e.$implicit,n=l.ec(2);l.Ab(1),l.lc("ngIf",n.userId==a.userId),l.Ab(1),l.lc("ngIf",n.userId!==a.userId)}}function H(t,e){1&t&&(l.Sb(0,"div"),l.Sb(1,"mat-card",40),l.Sb(2,"mat-card-content"),l.Sb(3,"p"),l.Bc(4," A\xfan no hay mensajes en esta sala "),l.Rb(),l.Rb(),l.Rb(),l.Rb())}function q(t,e){if(1&t){var a=l.Tb();l.Sb(0,"div"),l.Sb(1,"mat-toolbar",23),l.Sb(2,"span",3),l.Bc(3),l.Rb(),l.Nb(4,"span",24),l.Sb(5,"button",25),l.ac("click",(function(){return l.tc(a),l.ec().showDetails()})),l.Bc(6,"Detalles"),l.Rb(),l.Sb(7,"button",26),l.Sb(8,"mat-icon"),l.Bc(9,"more_vert"),l.Rb(),l.Rb(),l.Sb(10,"mat-menu",27,28),l.Sb(12,"button",29),l.ac("click",(function(){return l.tc(a),l.ec().moreMessages()})),l.Sb(13,"mat-icon"),l.Bc(14,"hourglass_bottom"),l.Rb(),l.Bc(15," Cargar m\xe1s mensajes "),l.Rb(),l.Rb(),l.Rb(),l.zc(16,X,3,2,"div",30),l.zc(17,H,5,0,"div",9),l.Rb()}if(2&t){var n=l.rc(11),i=l.ec();l.Ab(3),l.Dc("# ",i.currentRoomData.name,""),l.Ab(4),l.lc("matMenuTriggerFor",n),l.Ab(9),l.lc("ngForOf",i.chatMessages),l.Ab(1),l.lc("ngIf",0===i.chatMessages.length)}}function K(t,e){if(1&t&&(l.Sb(0,"div",34),l.Sb(1,"span",35),l.Bc(2),l.Rb(),l.Sb(3,"p",36),l.Bc(4),l.fc(5,"date"),l.Rb(),l.Rb()),2&t){var a=l.ec().$implicit;l.Ab(2),l.Dc("",a.message," "),l.Ab(2),l.Cc(l.hc(5,2,a.timestamp,"hh:mm"))}}function W(t,e){if(1&t&&(l.Sb(0,"div",37),l.Sb(1,"span",38),l.Bc(2),l.Sb(3,"p",39),l.Bc(4),l.fc(5,"date"),l.Rb(),l.Rb(),l.Nb(6,"br"),l.Sb(7,"span",35),l.Bc(8),l.Rb(),l.Rb()),2&t){var a=l.ec().$implicit;l.Ab(2),l.Ec(" ",a.name," ",a.lastname,""),l.Ab(2),l.Cc(l.hc(5,4,a.timestamp,"hh:mm")),l.Ab(4),l.Cc(a.message)}}function Z(t,e){if(1&t&&(l.Sb(0,"div",31),l.zc(1,K,6,5,"div",32),l.zc(2,W,9,7,"div",33),l.Rb()),2&t){var a=e.$implicit,n=l.ec(2);l.Ab(1),l.lc("ngIf",n.userId==a.userId),l.Ab(1),l.lc("ngIf",n.userId!==a.userId)}}function U(t,e){1&t&&(l.Sb(0,"div"),l.Sb(1,"mat-card",40),l.Sb(2,"mat-card-content"),l.Sb(3,"p"),l.Bc(4," A\xfan no hay mensajes en esta sala "),l.Rb(),l.Rb(),l.Rb(),l.Rb())}function Y(t,e){if(1&t){var a=l.Tb();l.Sb(0,"div"),l.Sb(1,"mat-toolbar",23),l.Sb(2,"span",3),l.Bc(3),l.Rb(),l.Nb(4,"span",24),l.Sb(5,"button",26),l.Sb(6,"mat-icon"),l.Bc(7,"more_vert"),l.Rb(),l.Rb(),l.Sb(8,"mat-menu",27,28),l.Sb(10,"button",29),l.ac("click",(function(){return l.tc(a),l.ec().morePrivateMessages()})),l.Sb(11,"mat-icon"),l.Bc(12,"hourglass_bottom"),l.Rb(),l.Bc(13," Cargar m\xe1s mensajes "),l.Rb(),l.Rb(),l.Rb(),l.zc(14,Z,3,2,"div",30),l.zc(15,U,5,0,"div",9),l.Rb()}if(2&t){var n=l.rc(9),i=l.ec();l.Ab(3),l.Cc(i.currentPrivateChat.name),l.Ab(2),l.lc("matMenuTriggerFor",n),l.Ab(9),l.lc("ngForOf",i.privateChats),l.Ab(1),l.lc("ngIf",0===i.privateChats.length)}}function Q(t,e){if(1&t){var a=l.Tb();l.Sb(0,"mat-icon",17),l.ac("click",(function(){return l.tc(a),l.ec().sendMessage()})),l.Bc(1,"send"),l.Rb()}}function V(t,e){if(1&t){var a=l.Tb();l.Sb(0,"mat-icon",17),l.ac("click",(function(){return l.tc(a),l.ec().sendPrivateMessage()})),l.Bc(1,"send"),l.Rb()}}var tt,et,at,nt=[{path:"",component:(tt=function(){function t(e,a,n,i,o,s){_classCallCheck(this,t),this.fetchData=e,this.setData=a,this.holdData=n,this.deleteData=i,this.dialog=o,this._ngZone=s,this.destroy$=new I.a,this.chatRooms=[],this.privateChats=[],this.privateChatsNames=[],this.chatMessages=[],this.currentRoomParticipants=[],this.residentsData=[],this.employeesData=[],this.showDetail=!0,this.showPrivateChats=!1,this.showRoomChats=!1}return _createClass(t,[{key:"ngOnInit",value:function(){this.userId=this.holdData.userId,this.buildingId=this.holdData.userInfo.buildingId,this.getChatRoomNames(),this.getPrivateMessages()}},{key:"ngOnDestroy",value:function(){this.destroy$.next(),this.destroy$.complete()}},{key:"getChatRoomNames",value:function(){var t=this;this.fetchData.getChatRooms(this.userId).pipe(Object(y.a)(this.destroy$)).subscribe((function(e){e.map((function(e){if("added"===e.type){var a=e.payload.doc.data();t.chatRooms.push(a)}else if("removed"===e.type)for(var n in t.chatRooms)if(t.chatRooms[n].roomId===t.currentRoomData.roomId){var i=parseInt(n);t.chatRooms.splice(i,1)}})),t.getMessagesFromRoom(t.chatRooms[0]),t.showRoomChats=!0,t.showPrivateChats=!1}))}},{key:"getMessagesFromRoom",value:function(t){this.currentRoomData={name:t.roomName,roomId:t.roomId,description:t.roomDescription},this.showRoomChats=!0,this.showPrivateChats=!1,this.chatMessages=[],this.privateChats=[],this.getMessagesFirebase(t),this.getParticipantsFromRoom()}},{key:"moreMessages",value:function(){this.getMessagesFirebase(this.currentRoomData)}},{key:"getMessagesFirebase",value:function(t){var e,a=this;e=0!==this.chatMessages.length?this.chatMessages[0].timestamp:new Date,this.fetchData.getMessagesFromSpecificRoom(this.buildingId,t.roomId,e,20).pipe(Object(y.a)(this.destroy$)).subscribe((function(t){if(0!==a.chatMessages.length){var e,n=[];n.push.apply(n,_toConsumableArray(a.chatMessages)),a.chatMessages=[],t.map((function(t){var e=t.payload.doc.data(),n=Object.assign(Object.assign({},e),{timestamp:e.timestamp.toDate()});a.chatMessages.unshift(n)})),(e=a.chatMessages).push.apply(e,n)}else t.map((function(t){var e=t.payload.doc.data(),n=Object.assign(Object.assign({},e),{timestamp:e.timestamp.toDate()});a.chatMessages.unshift(n)}))}))}},{key:"getParticipantsFromRoom",value:function(){var t=this;this.currentRoomParticipants=[],this.fetchData.getParticipantsFromSpecificRoom(this.buildingId,this.currentRoomData.roomId).pipe(Object(y.a)(this.destroy$)).subscribe((function(e){e.map((function(e){var a=e.payload.doc.data();t.currentRoomParticipants.push(a)}))}))}},{key:"addChatRoom",value:function(){var t=this;this.dialog.open(M,{data:this.buildingId}).afterClosed().subscribe((function(e){t.setData.createChatRoom(t.buildingId,{roomName:e.data.name,roomDescription:e.data.description},t.userId,e.data.participants)}))}},{key:"sendMessage",value:function(){var t=this.holdData.convertJSDateIntoFirestoreTimestamp(),e={name:this.holdData.userInfo.name,lastname:this.holdData.userInfo.lastname,message:this.currentMessage,timestamp:t,userId:this.userId},a={name:this.holdData.userInfo.name,lastname:this.holdData.userInfo.lastname,message:this.currentMessage,timestamp:new Date,userId:this.userId};this.chatMessages.push(a),this.setData.sendChatMessage(this.buildingId,this.currentRoomData.roomId,e),this.currentMessage=""}},{key:"deleteChatRoom",value:function(){var t=this;this.dialog.open(M,{data:"delete"}).afterClosed().subscribe((function(e){"delete"===e.data&&t.deleteData.deleteChatRoom(t.buildingId,t.currentRoomData.roomId,t.userId)}))}},{key:"showDetails",value:function(){this.showDetail=!this.showDetail}},{key:"getPrivateMessages",value:function(){var t=this;this.fetchData.getPrivateChats(this.userId).subscribe((function(e){e.map((function(e){if("added"===e.type){var a=e.payload.doc.data();t.privateChatsNames.push(a)}else if("removed"===e.type)for(var n in t.privateChatsNames)if(t.privateChatsNames[n].chatId===t.currentRoomData.roomId){var i=parseInt(n);t.privateChatsNames.splice(i,1)}}))}))}},{key:"getMessagesFromPrivateChat",value:function(t){this.currentPrivateChat={name:t.name,chatId:t.chatId,lastname:t.lastname},this.showRoomChats=!1,this.showPrivateChats=!0,this.chatMessages=[],this.privateChats=[],this.getPrivateMessagesFirebase(t)}},{key:"getPrivateMessagesFirebase",value:function(t){var e,a=this;e=0!==this.privateChats.length?this.privateChats[0].timestamp:new Date,this.fetchData.getSpecificChat(t.chatId,e,20).pipe(Object(y.a)(this.destroy$)).subscribe((function(t){if(0!==a.privateChats.length){var e,n=[];n.push.apply(n,_toConsumableArray(a.privateChats)),a.privateChats=[],t.map((function(t){var e=t.payload.doc.data(),n=Object.assign(Object.assign({},e),{timestamp:e.timestamp.toDate()});a.privateChats.unshift(n)})),(e=a.privateChats).push.apply(e,n)}else t.map((function(t){var e=t.payload.doc.data(),n=Object.assign(Object.assign({},e),{timestamp:e.timestamp.toDate()});a.privateChats.unshift(n)}))}))}},{key:"morePrivateMessages",value:function(){this.getPrivateMessagesFirebase(this.currentPrivateChat)}},{key:"sendPrivateMessage",value:function(){var t={name:this.holdData.userInfo.name,lastname:this.holdData.userInfo.lastname,message:this.currentMessage,timestamp:this.holdData.convertJSDateIntoFirestoreTimestamp(),userId:this.userId},e={name:this.holdData.userInfo.name,lastname:this.holdData.userInfo.lastname,message:this.currentMessage,timestamp:new Date,userId:this.userId};this.privateChats.push(e),this.setData.sendPrivateChatMessage(this.currentPrivateChat.chatId,t),this.currentMessage=""}},{key:"triggerResize",value:function(){var t=this;this._ngZone.onStable.pipe(Object(S.a)(1)).subscribe((function(){return t.autosize.resizeToFitContent(!0)}))}}]),t}(),tt.\u0275fac=function(t){return new(t||tt)(l.Mb(s.a),l.Mb(c.a),l.Mb(A.a),l.Mb(r.a),l.Mb(b.b),l.Mb(l.z))},tt.\u0275cmp=l.Gb({type:tt,selectors:[["app-comunications"]],viewQuery:function(t,e){var a;1&t&&l.Ic(B,!0),2&t&&l.qc(a=l.bc())&&(e.autosize=a.first)},decls:31,vars:8,consts:[[1,"chat-sidebar-container"],["opened","","mode","side"],[1,".mat-toolbar","mat-primary","mat-toolbar-single-row",2,"height","8%","background-color","#2C3B4D !important"],[1,"toolbar-msg"],[1,"material-icons",2,"margin-left","auto"],[3,"highlighted","click",4,"ngFor","ngForOf"],[2,"display","flex","justify-content","center","margin-top","20px"],["mat-raised-button","","color","primary",3,"click"],["opened","","mode","side","position","end",4,"ngIf"],[4,"ngIf"],[2,"background-color","white","border-top","gray"],[2,"display","flex"],["matInput","","cdkTextareaAutosize","","cdkAutosizeMinRows","1","cdkAutosizeMaxRows","9","placeholder","Env\xeda un mensaje",3,"ngModel","ngModelChange"],["autosize","cdkTextareaAutosize"],[1,"example-button-container"],["mat-mini-fab",""],[3,"click",4,"ngIf"],[3,"click"],["opened","","mode","side","position","end"],[4,"ngFor","ngForOf"],[2,"display","flex","justify-content","center"],["mat-raised-button","","color","warn",3,"click",4,"ngIf"],["mat-raised-button","","color","warn",3,"click"],[1,"background-room",2,"height","8%","background-color","#2C3B4D !important"],[1,"example-spacer"],["mat-raised-button","","color","primary",1,"example-icon",3,"click"],["mat-icon-button","","aria-label","Example icon-button with share icon",1,"example-icon",3,"matMenuTriggerFor"],[1,"mymegamenu"],["profile","matMenu"],["mat-menu-item","",3,"click"],["class","chat",4,"ngFor","ngForOf"],[1,"chat"],["class","me",4,"ngIf"],["class","otherMessage",4,"ngIf"],[1,"me"],[2,"word-wrap","break-word"],[1,"time-left"],[1,"otherMessage"],[1,"name"],[1,"time-right",2,"margin-left","10px"],[1,"message-card"]],template:function(t,e){1&t&&(l.Sb(0,"mat-sidenav-container",0),l.Sb(1,"mat-sidenav",1),l.Sb(2,"mat-toolbar",2),l.Sb(3,"span",3),l.Bc(4,"Chats Grupales"),l.Rb(),l.Sb(5,"span",4),l.Bc(6,"group_add"),l.Rb(),l.Rb(),l.Sb(7,"mat-list"),l.zc(8,z,2,3,"mat-list-item",5),l.Rb(),l.Sb(9,"mat-toolbar",2),l.Sb(10,"span",3),l.Bc(11,"Mensajes Directos"),l.Rb(),l.Sb(12,"span",4),l.Bc(13,"add"),l.Rb(),l.Rb(),l.Sb(14,"mat-list"),l.zc(15,F,2,4,"mat-list-item",5),l.Rb(),l.Sb(16,"div",6),l.Sb(17,"button",7),l.ac("click",(function(){return e.addChatRoom()})),l.Bc(18,"Crear Grupo"),l.Rb(),l.Rb(),l.Rb(),l.zc(19,L,14,5,"mat-sidenav",8),l.zc(20,q,18,4,"div",9),l.zc(21,Y,16,4,"div",9),l.Sb(22,"footer"),l.Sb(23,"mat-form-field",10),l.Sb(24,"div",11),l.Sb(25,"textarea",12,13),l.ac("ngModelChange",(function(t){return e.currentMessage=t})),l.Rb(),l.Sb(27,"div",14),l.Sb(28,"button",15),l.zc(29,Q,2,0,"mat-icon",16),l.zc(30,V,2,0,"mat-icon",16),l.Rb(),l.Rb(),l.Rb(),l.Rb(),l.Rb(),l.Rb()),2&t&&(l.Ab(8),l.lc("ngForOf",e.chatRooms),l.Ab(7),l.lc("ngForOf",e.privateChatsNames),l.Ab(4),l.lc("ngIf",e.showDetail&&e.showRoomChats),l.Ab(1),l.lc("ngIf",e.showRoomChats),l.Ab(1),l.lc("ngIf",e.showPrivateChats),l.Ab(4),l.lc("ngModel",e.currentMessage),l.Ab(4),l.lc("ngIf",e.showRoomChats),l.Ab(1),l.lc("ngIf",e.showPrivateChats))},directives:[D.b,D.a,k.a,_.a,n.l,u.b,n.m,m.a,d.b,w.b,g.b,g.j,g.m,_.b,P.a,P.d,P.h,P.g,P.c,O.c,x.a,O.d,O.a],pipes:[n.f],styles:[".chat-sidebar-container[_ngcontent-%COMP%]{position:absolute;top:0;bottom:0;left:0;right:0}.example-spacer[_ngcontent-%COMP%]{flex:1 1 auto}mat-drawer-content[_ngcontent-%COMP%]{padding:12px;display:flex;flex-direction:column;align-items:flex-start}.butoon-refresh[_ngcontent-%COMP%]{align-items:center}.footer-chat[_ngcontent-%COMP%]{position:fixed;bottom:0;width:100%}.message-card[_ngcontent-%COMP%]{max-width:700px}.highlighted[_ngcontent-%COMP%]{background-color:#2196f3}.toolbar-msg[_ngcontent-%COMP%]{FONT-SIZE:14px;LINE-HEIGHT:32px;TEXT-ALIGN:start;LETTER-SPACING:normal;color:#fff}.background-room[_ngcontent-%COMP%]{background-color:themecolor-alt!important}.chat[_ngcontent-%COMP%]{display:flex;flex-direction:column}.chat[_ngcontent-%COMP%]   .me[_ngcontent-%COMP%]{margin:3px 5px 0;align-self:flex-end;padding:9px 10px 9px 16px;border-radius:15px 15px 0;background:#dcf8c6}.chat[_ngcontent-%COMP%]   .me[_ngcontent-%COMP%], .chat[_ngcontent-%COMP%]   .otherMessage[_ngcontent-%COMP%]{position:relative;max-width:80%;box-shadow:0 4px 8px 0 0 rgba,0,0,.2;font-size:medium;line-height:1.4;z-index:2}.chat[_ngcontent-%COMP%]   .otherMessage[_ngcontent-%COMP%]{margin:15px;align-self:flex-start;background:#fff;padding:6px 10px 7px;border-radius:15px 15px 15px 0}.chat[_ngcontent-%COMP%]   .otherMessage[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:medium;font-weight:bolder}.chat[_ngcontent-%COMP%]   #autosize[_ngcontent-%COMP%]{width:calc(100% - 10px);border:0;border-radius:0;background:transparent;min-height:40px;min-width:80%}.chat[_ngcontent-%COMP%]   .time-left[_ngcontent-%COMP%]{margin-left:7px}.chat[_ngcontent-%COMP%]   .time-left[_ngcontent-%COMP%], .chat[_ngcontent-%COMP%]   .time-right[_ngcontent-%COMP%]{color:#a9a9a9;display:inline-grid;margin-bottom:0;margin-top:0;font-size:small}.chat[_ngcontent-%COMP%]   .time-right[_ngcontent-%COMP%]{margin-right:10px}.background[_ngcontent-%COMP%]{z-index:1;position:fixed}.send-button[_ngcontent-%COMP%]{background-color:#128c7e;border-radius:50%;height:50px;width:50px;color:#fff}.example-button-container[_ngcontent-%COMP%]{display:flex;justify-content:center;width:120px}.example-button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:130px}footer[_ngcontent-%COMP%]{position:fixed;bottom:0;width:65%;z-index:2}"]}),tt)}],it=((et=function t(){_classCallCheck(this,t)}).\u0275mod=l.Kb({type:et}),et.\u0275inj=l.Jb({factory:function(t){return new(t||et)},imports:[[o.i.forChild(nt)],o.i]}),et),ot=a("onrN"),st=((at=function t(){_classCallCheck(this,t)}).\u0275mod=l.Kb({type:at}),at.\u0275inj=l.Jb({factory:function(t){return new(t||at)},imports:[[n.c,ot.a,i.a,it,g.f]]}),at)}}]);